# 經銷商管理系統 - 完整功能指南

**版本**: 2.0.0
**更新日期**: 2025-11-03
**系統網址**: http://localhost:5173/

---

## 🎉 系統已完成功能

現在系統包含完整的經銷商管理、產品查價和報價單功能！

---

## 📋 目錄

1. [系統概覽](#系統概覽)
2. [核心功能](#核心功能)
3. [使用指南](#使用指南)
4. [資料說明](#資料說明)
5. [常見問題](#常見問題)

---

## 系統概覽

### 四大核心模組

```
經銷商管理系統
├── 📊 儀表板 - 系統總覽與快速操作
├── 👥 經銷商管理 - 經銷商資料管理
├── 🔍 查價工具 - 產品查價與報價單建立
└── 📄 報價單管理 - 報價單管理與追蹤
```

### 系統特色

✅ **完整的查價功能**
- 8 種產品，4 種經銷商等級價格
- 即時顯示不同等級的優惠價格
- 庫存狀態即時顯示
- 支援批量選購

✅ **智能報價單系統**
- 自動生成報價單號（格式: Q20251103-0001）
- 自動計算小計、折扣、稅額、總計
- 報價單狀態管理（草稿/已送出/已確認/已拒絕/已過期）
- 詳細的報價單檢視

✅ **經銷商分級價格**
- VIP 級：最優惠價格
- A 級：次優惠價格
- B 級：一般優惠價格
- C 級：標準價格

✅ **資料持久化**
- 所有資料自動儲存到 localStorage
- 重新整理頁面資料不會遺失
- 支援經銷商、報價單資料儲存

---

## 核心功能

### 1. 儀表板 📊

**功能**:
- 系統統計總覽（經銷商數、產品數、報價單數、確認金額）
- 快速操作捷徑
- 最近報價單列表

**統計卡片**:
```
┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│ 經銷商      │ │ 產品        │ │ 報價單      │ │ 確認金額    │
│ 2 家        │ │ 8 項        │ │ X 筆        │ │ NT$ XX萬    │
└─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘
```

**快速操作**:
- 🔍 快速查價
- 📄 管理報價單
- 👥 經銷商管理

---

### 2. 經銷商管理 👥

**功能列表**:
- ✅ 新增經銷商
- ✅ 編輯經銷商資料
- ✅ 刪除經銷商
- ✅ 搜尋經銷商（名稱、聯絡人）
- ✅ 經銷商等級設定（VIP/A/B/C）

**經銷商資料欄位**:
- 基本資料：名稱、聯絡人、電話、Email、地址
- 財務資料：銷售金額、叫貨金額、信用額度、佣金比例
- 其他：請款日期、經銷商等級

**智能提示**:
- 🔴 信用額度不足警告（剩餘 < 20%）
- 🔴 請款逾期提示
- 🟠 即將到期警告（7天內）

**預設經銷商**:
1. 台北經銷商（VIP 級）- 王小明
2. 高雄經銷商（A 級）- 林美華

---

### 3. 查價工具 🔍

這是系統的核心功能之一！

#### 3.1 功能特色

**選擇經銷商**:
- 可選擇經銷商（自動套用該等級價格）
- 不選擇則使用標準價格（C 級價格）
- 顯示經銷商等級和資訊

**產品瀏覽**:
- 搜尋產品（名稱或編號）
- 分類篩選（電腦設備、周邊設備、顯示設備等）
- 產品卡片顯示：
  - 產品圖示
  - 產品名稱和編號
  - 規格說明
  - 牌價（劃線）
  - 優惠價（大字顯示）
  - 節省金額
  - 庫存狀態

**庫存狀態**:
- 🟢 庫存充足（≥ 10）
- 🟠 庫存不足（1-9）
- 🔴 無庫存（0）

**選購清單**:
- 加入產品
- 調整數量
- 移除產品
- 即時計算總金額
- 一鍵建立報價單

#### 3.2 產品列表

| 編號 | 產品名稱 | 分類 | 牌價 | VIP價 | A級價 | B級價 | C級價 | 庫存 |
|------|---------|------|------|-------|-------|-------|-------|------|
| P001 | 筆記型電腦 - 商務款 | 電腦設備 | 35,000 | 30,000 | 31,000 | 32,000 | 33,000 | 50 |
| P002 | 無線滑鼠 | 周邊設備 | 350 | 280 | 300 | 320 | 335 | 200 |
| P003 | 機械式鍵盤 | 周邊設備 | 2,000 | 1,600 | 1,700 | 1,800 | 1,900 | 80 |
| P004 | 27吋 4K 顯示器 | 顯示設備 | 12,000 | 10,000 | 10,500 | 11,000 | 11,500 | 30 |
| P005 | 無線印表機 | 辦公設備 | 5,500 | 4,500 | 4,800 | 5,000 | 5,200 | 25 |
| P006 | USB-C 集線器 | 周邊設備 | 800 | 650 | 680 | 720 | 760 | 150 |
| P007 | 外接硬碟 2TB | 儲存設備 | 2,800 | 2,300 | 2,400 | 2,500 | 2,650 | 100 |
| P008 | 網路攝影機 | 視訊設備 | 1,500 | 1,200 | 1,300 | 1,400 | 1,450 | 60 |

#### 3.3 使用流程

```
步驟 1: 選擇經銷商（可選）
    ↓
步驟 2: 搜尋/篩選產品
    ↓
步驟 3: 查看價格（自動顯示該等級價格）
    ↓
步驟 4: 加入選購清單
    ↓
步驟 5: 調整數量
    ↓
步驟 6: 點擊「建立報價單」
    ↓
自動跳轉到報價單管理頁面
```

#### 3.4 價格計算範例

**範例 1: VIP 級經銷商**
```
選擇: 台北經銷商（VIP 級）
產品: 筆記型電腦 - 商務款
牌價: NT$ 35,000
VIP價: NT$ 30,000
節省: NT$ 5,000 (14% OFF)
```

**範例 2: A 級經銷商**
```
選擇: 高雄經銷商（A 級）
產品: 27吋 4K 顯示器
牌價: NT$ 12,000
A級價: NT$ 10,500
節省: NT$ 1,500 (12.5% OFF)
```

**範例 3: 未選擇經銷商**
```
未選擇經銷商
產品: 無線滑鼠
使用: C 級標準價格
價格: NT$ 335
```

---

### 4. 報價單管理 📄

#### 4.1 功能列表

- ✅ 查看所有報價單
- ✅ 報價單詳情檢視
- ✅ 報價單狀態管理
- ✅ 搜尋報價單（單號、經銷商）
- ✅ 狀態篩選
- ✅ 刪除報價單
- ⏳ 編輯報價單（開發中）
- ⏳ PDF 下載（開發中）

#### 4.2 報價單狀態

| 狀態 | 說明 | 顏色 | 可執行動作 |
|-----|------|------|-----------|
| 草稿 | 尚未完成的報價單 | 灰色 | 編輯、送出、刪除 |
| 已送出 | 已發送給客戶 | 藍色 | 確認、拒絕、刪除 |
| 已確認 | 客戶已確認 | 綠色 | 查看、刪除 |
| 已拒絕 | 客戶已拒絕 | 紅色 | 查看、刪除 |
| 已過期 | 超過有效期限 | 橙色 | 查看、刪除 |

#### 4.3 報價單編號規則

**格式**: `Q + YYYYMMDD + - + 序號`

**範例**:
- Q20251103-0001（2025年11月3日第1筆）
- Q20251103-0002（2025年11月3日第2筆）
- Q20251104-0001（2025年11月4日第1筆）

#### 4.4 報價單資料結構

```typescript
報價單
├── 基本資訊
│   ├── 報價單號: Q20251103-0001
│   ├── 經銷商: 台北經銷商
│   ├── 建立日期: 2025-11-03
│   └── 有效期限: 2025-12-03（30天）
├── 產品明細
│   ├── 產品 1
│   │   ├── 產品編號: P001
│   │   ├── 產品名稱: 筆記型電腦 - 商務款
│   │   ├── 規格: Intel i7, 16GB RAM, 512GB SSD
│   │   ├── 數量: 2 台
│   │   ├── 單價: NT$ 30,000
│   │   └── 小計: NT$ 60,000
│   └── ...
└── 金額匯總
    ├── 小計: NT$ 60,000
    ├── 折扣: NT$ 0
    ├── 稅額 (5%): NT$ 3,000
    └── 總計: NT$ 63,000
```

#### 4.5 報價單統計

**儀表板顯示**:
- 📄 總報價單數
- ✏️ 草稿數量
- 📤 已送出數量
- 💰 確認金額（已確認報價單總額）

#### 4.6 報價單詳情視窗

**點擊「查看」按鈕可開啟詳情視窗，包含**:
- 報價單基本資訊
- 產品明細表格
- 金額匯總
- 備註（如有）
- 操作按鈕：
  - 下載 PDF（開發中）
  - 送出報價（草稿狀態）

---

## 使用指南

### 快速開始

#### 情境 1: 為經銷商查詢產品價格

1. 點擊頂部導航「查價工具」
2. 選擇經銷商（例如：台北經銷商 - VIP 級）
3. 瀏覽產品列表，查看各產品的 VIP 價格
4. 系統自動顯示節省金額

#### 情境 2: 建立報價單

1. 點擊「查價工具」
2. 選擇經銷商
3. 搜尋或篩選需要的產品
4. 點擊「加入」將產品加入選購清單
5. 在右側調整數量
6. 確認總金額無誤
7. 點擊「建立報價單」
8. 系統自動跳轉到報價單管理頁面

#### 情境 3: 管理報價單

1. 點擊「報價單管理」
2. 查看所有報價單列表
3. 點擊「查看」檢視報價單詳情
4. 草稿狀態可以點擊「送出報價」
5. 可刪除不需要的報價單

#### 情境 4: 管理經銷商

1. 點擊「經銷商管理」
2. 點擊「新增經銷商」
3. 填寫經銷商資料
4. **重要**: 設定經銷商等級（VIP/A/B/C）
5. 儲存後即可在查價時選擇

---

## 資料說明

### 經銷商等級與價格對照

**折扣幅度**（以筆記型電腦為例）:

| 等級 | 價格 | 折扣 | 適用對象 |
|-----|------|------|---------|
| VIP | NT$ 30,000 | 85.7% | 大量採購、長期合作 |
| A | NT$ 31,000 | 88.6% | 穩定採購、優質客戶 |
| B | NT$ 32,000 | 91.4% | 一般合作客戶 |
| C | NT$ 33,000 | 94.3% | 新客戶、小量採購 |
| 牌價 | NT$ 35,000 | 100% | 終端零售價 |

### 庫存管理

**庫存狀態判斷**:
```javascript
庫存 = 0     → 🔴 無庫存（無法購買）
庫存 1-9     → 🟠 庫存不足（可購買但需注意）
庫存 ≥ 10    → 🟢 庫存充足（正常銷售）
```

### 報價單有效期

**預設**: 建立日期 + 30 天

**範例**:
- 建立日期: 2025-11-03
- 有效期限: 2025-12-03

### 稅額計算

**稅率**: 5%

**計算公式**:
```
小計 = Σ(產品單價 × 數量)
折扣後金額 = 小計 - 折扣金額
稅額 = 折扣後金額 × 5%
總計 = 折扣後金額 + 稅額
```

**範例**:
```
產品 1: NT$ 30,000 × 2 = NT$ 60,000
產品 2: NT$ 10,000 × 1 = NT$ 10,000
─────────────────────────────────
小計: NT$ 70,000
折扣: NT$ 0
折扣後: NT$ 70,000
稅額 (5%): NT$ 3,500
─────────────────────────────────
總計: NT$ 73,500
```

---

## 常見問題

### Q1: 如何設定經銷商等級？

A:
1. 進入「經銷商管理」
2. 新增或編輯經銷商
3. 在表單中找到「經銷商等級」欄位
4. 選擇 VIP/A/B/C
5. 儲存

**注意**: 目前需要手動設定，未來會支援在表單中直接選擇。

### Q2: 為什麼我看不到經銷商的特殊價格？

A: 請確認：
1. 經銷商是否有設定等級（dealerLevel 欄位）
2. 在查價工具中是否有選擇該經銷商
3. 檢查瀏覽器控制台是否有錯誤訊息

### Q3: 報價單建立後可以修改嗎？

A: 目前編輯功能正在開發中。建議：
- 在查價工具中仔細確認後再建立報價單
- 如需修改，可先刪除後重新建立

### Q4: 資料會不會遺失？

A: 不會！系統使用 localStorage 自動儲存：
- 經銷商資料
- 報價單資料
- 重新整理頁面資料依然存在

### Q5: 如何清除所有資料？

A: 開啟瀏覽器開發者工具（F12）:
```javascript
// 清除經銷商資料
localStorage.removeItem('dealers');

// 清除報價單資料
localStorage.removeItem('quotations');

// 清除所有資料
localStorage.clear();
```

### Q6: 可以匯出報價單 PDF 嗎？

A: PDF 下載功能正在開發中，預計下個版本推出。

### Q7: 支援多幣別嗎？

A: 目前僅支援新台幣（NT$），多幣別功能列入未來規劃。

### Q8: 如何新增產品？

A: 目前產品資料是預設的 8 項產品，位於 `src/data/productData.ts`。
如需新增產品，請編輯該檔案。未來會提供產品管理介面。

---

## 系統技術資訊

### 前端技術棧

- **React**: 18.2.0
- **TypeScript**: 5.6.2
- **Tailwind CSS**: 3.4.10
- **Vite**: 5.4.21
- **Lucide React**: 圖示庫

### 檔案結構

```
src/
├── components/
│   ├── DealerSystemMain.tsx      # 主系統（導航與整合）
│   ├── PriceInquiry.tsx          # 查價工具
│   ├── QuotationManagement.tsx   # 報價單管理
│   └── ...
├── types/
│   └── dealer.ts                 # TypeScript 型別定義
├── data/
│   └── productData.ts            # 產品資料
├── dealer_management_system.tsx  # 經銷商管理
├── App.tsx                       # 應用程式入口
└── main.tsx                      # React 渲染
```

### 資料流

```
localStorage (經銷商資料)
    ↓
DealerSystemMain (主系統)
    ↓
    ├─→ PriceInquiry (查價) → 建立報價單
    ├─→ QuotationManagement (報價單) → 管理報價
    └─→ DealerManagement (經銷商) → 管理經銷商
    ↓
localStorage (報價單資料)
```

---

## 未來規劃

### 短期（1-2週）

- ✅ 完成查價功能
- ✅ 完成報價單管理
- ⏳ 報價單編輯功能
- ⏳ 產品管理介面
- ⏳ PDF 報價單生成

### 中期（1-2個月）

- ⏳ 訂單管理（報價單轉訂單）
- ⏳ 庫存管理
- ⏳ 財務報表
- ⏳ 進階搜尋與篩選

### 長期（3-6個月）

- ⏳ 後端 API 整合
- ⏳ 資料庫支援
- ⏳ 多用戶系統
- ⏳ 權限管理
- ⏳ Email 通知
- ⏳ 行動 App

---

## 支援與回饋

### 遇到問題？

1. 檢查瀏覽器控制台（F12）
2. 查看 [功能測試報告](FUNCTION_TEST_REPORT.md)
3. 查看 [系統規劃文檔](DEALER_SYSTEM_PLANNING.md)

### 功能建議

歡迎提供功能建議和改進意見！

---

## 版本歷史

### v2.0.0 (2025-11-03)
- ✅ 新增查價工具
- ✅ 新增報價單管理
- ✅ 新增產品資料（8項產品）
- ✅ 新增價格規則（4種等級）
- ✅ 新增儀表板
- ✅ 整合導航系統

### v1.0.0 (2025-11-01)
- ✅ 基礎經銷商管理
- ✅ CRUD 功能
- ✅ 搜尋功能
- ✅ 統計數據

---

**系統準備就緒！開始使用吧！** 🎉

訪問: http://localhost:5173/
